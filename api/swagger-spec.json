{"openapi":"3.0.0","paths":{"/auth/login":{"post":{"description":"Login user","operationId":"login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"201":{"description":""}},"summary":"","tags":["auth"]}},"/auth/register":{"post":{"description":"Register user","operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"201":{"description":""}},"summary":"","tags":["auth"]}},"/auth/refresh":{"post":{"description":"Refresh access token","operationId":"refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"201":{"description":""}},"summary":"","tags":["auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Logout and revoke refresh token","tags":["auth"]}},"/auth/logout-all":{"post":{"operationId":"AuthController_logoutAll","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Logout from all devices","tags":["auth"]}},"/auth/me":{"get":{"operationId":"AuthController_me","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get current user","tags":["auth"]}},"/projects":{"post":{"description":"Create a new project","operationId":"createProject","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Projects"]},"get":{"description":"Get all projects","operationId":"getAllProjects","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Projects"]}},"/projects/{id}":{"put":{"description":"Update a project","operationId":"updateProject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProjectDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Projects"]},"get":{"description":"Get a project by id","operationId":"getProject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Projects"]},"delete":{"description":"Delete a project by id","operationId":"deleteProject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Projects"]}},"/access":{"post":{"description":"Create access","operationId":"createAccess","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccessDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Access"]},"put":{"description":"Update access by id","operationId":"updateAccessById","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccessDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Access"]}},"/access/projects/{projectId}":{"get":{"description":"Get access by project id","operationId":"getAccessByProjectId","parameters":[{"name":"projectId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Access"]}},"/access/{id}":{"get":{"description":"Get access by id","operationId":"getAccessById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Access"]},"delete":{"description":"Delete access by id","operationId":"deleteAccessById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["Access"]}},"/activity-log/access/{accessId}":{"get":{"description":"Get all activities for a specific access","operationId":"getActivitiesByAccessId","parameters":[{"name":"accessId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["activity-log"]}},"/activity-log/project/{projectId}":{"get":{"description":"Get all activities for a specific project","operationId":"getActivitiesByProjectId","parameters":[{"name":"projectId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["activity-log"]}},"/two-factor":{"post":{"operationId":"TwoFactorController_createTwoFactor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTwoFactorDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"tags":["two-factor"]}},"/two-factor/access/{accessId}":{"get":{"operationId":"TwoFactorController_getTwoFactorByAccessId","parameters":[{"name":"accessId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["two-factor"]}},"/two-factor/{id}":{"get":{"operationId":"TwoFactorController_getTwoFactorById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["two-factor"]},"put":{"operationId":"TwoFactorController_updateTwoFactor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTwoFactorDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["two-factor"]},"delete":{"operationId":"TwoFactorController_deleteTwoFactorById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["two-factor"]}},"/recovery-code":{"post":{"description":"Create a recovery code","operationId":"createRecoveryCode","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRecoveryCodeDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["recovery-code"]}},"/recovery-code/two-factor/{twoFactorId}":{"get":{"description":"Get recovery codes by two factor id","operationId":"getRecoveryCodeByTwoFactorId","parameters":[{"name":"twoFactorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["recovery-code"]}},"/recovery-code/{id}":{"get":{"description":"Get a recovery code by id","operationId":"getRecoveryCodeById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["recovery-code"]},"delete":{"description":"Delete a recovery code","operationId":"deleteRecoveryCode","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["recovery-code"]}},"/recovery-code/{id}/use":{"patch":{"description":"Use a recovery code","operationId":"useRecoveryCode","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"","tags":["recovery-code"]}}},"info":{"title":"AccessLog API","description":"","version":"1.0","contact":{}},"tags":[{"name":"api","description":""}],"servers":[{"url":"/"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"AuthDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"CreateProjectDto":{"type":"object","properties":{"name":{"type":"string"},"clientName":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","ARCHIVED"]},"description":{"type":"string"}},"required":["name","status"]},"UpdateProjectDto":{"type":"object","properties":{"name":{"type":"string"},"clientName":{"type":"string"},"status":{"type":"string"},"description":{"type":"string"}}},"CreateAccessDto":{"type":"object","properties":{"projectId":{"type":"string"},"serviceName":{"type":"string"},"serviceUrl":{"type":"string"},"environment":{"type":"string"},"accessLevel":{"type":"string"},"login":{"type":"string"},"password":{"type":"string"},"notes":{"type":"string"},"owner":{"type":"string"}},"required":["projectId","serviceName","serviceUrl","environment","accessLevel","login","password","notes","owner"]},"UpdateAccessDto":{"type":"object","properties":{"id":{"type":"string"},"serviceName":{"type":"string"},"serviceUrl":{"type":"string"},"environment":{"type":"string"},"accessLevel":{"type":"string"},"login":{"type":"string"},"password":{"type":"string"},"notes":{"type":"string"},"owner":{"type":"string"}},"required":["id","serviceName","serviceUrl","environment","accessLevel","login","password","notes","owner"]},"CreateTwoFactorDto":{"type":"object","properties":{"accessId":{"type":"string"},"type":{"type":"string"},"enabled":{"type":"boolean"}},"required":["accessId","type","enabled"]},"UpdateTwoFactorDto":{"type":"object","properties":{"type":{"type":"string"},"enabled":{"type":"boolean"}},"required":["type","enabled"]},"CreateRecoveryCodeDto":{"type":"object","properties":{"twoFactorId":{"type":"string"},"code":{"type":"string"}},"required":["twoFactorId","code"]}}}}